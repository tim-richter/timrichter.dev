---
layout: ../../layouts/Layout.astro
title: How to use styled-system with typescript
description: Some recipes to handle the beast that is strongly typed components together with styled-system. We'll start from basic styling and go over to custom props.
---
import { Code } from '../../components/Code/Code.tsx';

# {frontmatter.title}

Styled-Components ‚ù§Ô∏è. There are a bunch of libraries already written for it one of which is styled-system which simplifies the creation of a component-based design system.

Now styled-system is awesome but I had some trouble finding good ways of integrating it with typescript especially when using custom components. So here is a little guide on how to do it üòâ

## Prerequisite

If you haven't already install the types for styled-system.

```bash
npm install -D @types/styled-system
# or with yarn
yarn add -D @types/styled-system
```

## Normally Styled Tags

If you only need to pass some additional props to a styled component, the only thing to do is add a generic from 'styled-system' to it:

<Code client:visible deps={{ 'styled-system': '5.1.5', 'styled-components': '5.3.6' }} files={{
    '/App.tsx': `import { Image } from './Image';

const Example = () => <Image src="https://via.placeholder.com/100" />;

export default Example;`,

    '/Image.tsx': {
      code: `import { layout, LayoutProps } from 'styled-system';
import styled from 'styled-components';
\n\
export const Image = styled.img<LayoutProps>\`
  \${layout}
\`;`,
    active: true,
    }
}} />

> There is a props equivalent for everything in Styled-System for example color is ColorProps, space is SpaceProps and so on.

## Custom Components

Passing additional props to a component, beside the ones generated by 'styled-system', becomes a bit more tricky but there's still a good solution for this.
We can extend our Props type definition from the 'styled-system' types and pass that to our components:

<Code client:visible deps={{ 'styled-system': '5.1.5', 'styled-components': '5.3.6' }} files={{
    '/App.tsx': `import { DropdownMenu } from './DropdownMenu';

const Example = () => <DropdownMenu width={100} height={100}>Child</DropdownMenu>;

export default Example;`,

    '/DropdownMenu.tsx': {
      code: `import { layout, LayoutProps, position, PositionProps } from 'styled-system';
import styled from 'styled-components';
import React from 'react';

interface Props extends PositionProps, LayoutProps {
  children: React.ReactNode;
}

const Container = styled.div<Props>\`
  background-color: blue;
  \${position};
  \${layout};
\`;

export const DropdownMenu: React.FC<Props> = ({ children, ...props }) => {
  return <Container {...props}>{children}</Container>;
};`,
    active: true,
    }
}} />

## Advanced Custom Components

If we want to add additional props to our styled div so that we can consume them for conditional styling for example we run into some conflicting types 
between our Div HTMLAttributes and custom props. Extending the HTMLAttributes does the trick here:

<Code client:visible deps={{ 'styled-system': '5.1.5', 'styled-components': '5.3.6' }} files={{
    '/App.tsx': `import { Message } from './Message';

const Example = () => <Message />;

export default Example;`,

    '/Message.tsx': {
      code: `import { space, SpaceProps } from 'styled-system';
import styled from 'styled-components';
import React from 'react';

interface ContainerProps extends React.HTMLAttributes<HTMLDivElement> {
  isOwner: boolean;
}

type Props = ContainerProps & SpaceProps & {
    content: string;
};

const Container = styled.div<ContainerProps>\`
  \${space};
  \${(props) =>
    props.isOwner ? 'align-self: flex-end' : 'align-self: flex-start'
   };
\`;

export const Message: React.FC<Props> = ({ content, isOwner, ...props }) => {
  return (
    <Container isOwner={isOwner} {...props}>
      {content}
    </Container>
  );
};`,
    active: true,
    }
}} />

We want to give the styled div a custom prop ‚ÄúisOwner‚Äù to style it conditionally. 
For this we have to extend the props that the div element expects (HtmlAttributes)

We combine all props from the container, space props and our custom "content"-prop together into one type and pass that to the component. 
In the end we can pass:

- All Props that a normal div element would except, these would get passed to our Container
- All Space Props from styled-system, these get also passed to our Container
- Our Custom Props "isOwner" and "content", "isOwner" get's passed to the Container and "content" will be the child

We have a strongly typed Component that leverages styled-system, styled-components and custom props ü•≥


